javascript:"use strict";!function(){function a(a){var c=b.indexOf(a);b[c]&&b.splice(c,1)}var b=prompt("Paste in goals, one per line and they will be added to the experiment:").split("\n");b.map(function(a){return a.replace(/\s*[\[{(]primary[)}\]]\s*$/i,"")});var c=window.optly.page.experiment.projectId,d=window.optly.page.experiment.experimentId,f=(window.optly.page.goalDialog.stateStack,"https://app.optimizely.com/api/project/"+c+"/goal.json?unaddable_included_experiment_id="+d),g="https://app.optimizely.com/api/experiments/"+d+"/goal.json";b.length&&$.get(f,function(c){var e=[],f=(c.goals||{}).filter(function(b){return!(-1!==b.experiment_ids.indexOf(d)&&(a(b.title),1))}),h=[];for(var i in b){var j=void 0,k=b[i];for(var l in f){var m=f[l];if(m.title===k){if(j){console.log("found duplicate of ",k),j=void 0;break}j=m}}j?(e.push(j),console.log("found",k)):(h.push(k),console.log("Unable to find",k))}if(e.length){var n=function(){var b=e[l];$.post(g,{goal_id:b.goal_id},function(a){a.succeeded?console.log("Successfully added goal:",b.title):(alert("API ERROR!"),console.warn("API error:",a))})};for(var l in alert("Adding these goals to the experiment:\n"+e.map(function(a){return a.title}).join(",\n")),console.log("Adding these goals to the experiment:",e),e)n()}else console.log("No goals to be added.");h.length&&(alert("Unable to add these goals:\n"+h.join(",\n")),console.warn("Unable to add these goals:",h))})}();