javascript:!function(){function e(b){let c=a.indexOf(b);a[c]&&a.splice(c,1)}let a=prompt("Paste in goals, one per line and they will be added to the experiment:").split("\n"),b=window.optly.page.experiment.projectId,c=window.optly.page.experiment.experimentId,f=`https://app.optimizely.com/api/project/${b}/goal.json?unaddable_included_experiment_id=${c}`,g=`https://app.optimizely.com/api/experiments/${c}/goal.json`;a.length&&$.get(f,function(b){let d=[],f=(b.goals||{}).filter(function(a){return a.experiment_ids.indexOf(c)===-1||(e(a.title),!1)});var h=[];for(var i in a){let b,c=a[i];for(var j in f){let a=f[j];if(a.title===c){if(b){console.log("found duplicate of ",c),b=void 0;break}b=a}}b?(d.push(b),console.log("found",c)):(h.push(c),console.log("Unable to find",c))}if(d.length){alert("Adding these goals to the experiment:\n"+d.map(a=>a.title).join(",\n")),console.log("Adding these goals to the experiment:",d);for(var j in d){let a=d[j];$.post(g,{goal_id:a.goal_id},function(b){b.succeeded?console.log("Successfully added goal:",a.title):(alert("API ERROR!"),console.warn("API error:",b))})}}else console.log("No goals to be added.");h.length&&(alert("Unable to add these goals:\n"+h.join(",\n")),console.warn("Unable to add these goals:",h))})}();