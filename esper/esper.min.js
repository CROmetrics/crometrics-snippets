"use strict";(function(b,c){var d=window.jQuery||window.$||window.optimizely&&window.optimizely.$;if(d("head").append("<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-49590743-2', 'derp',{'name': 'optimizelyspytool'});ga('optimizelyspytool.send', 'pageview','/"+(c?"":"x/")+"'+location.hostname);</script>"),d("#opt_container,#opt_styles,#opt_backdrop").remove(),d("body").append("<div id='opt_backdrop'/>"),d("head").append("<style id='opt_styles'>            #opt_backdrop {position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.4);z-index:99999998}            #opt_container{                position:fixed;                overflow-y:auto;                background:#FFF;                padding:20px;                left:50%;top:50%;                border-radius:4px;                box-shadow:0 0 28px -1px black;                -webkit-box-shadow:0 0 28px -1px black;                min-width:300px;                min-height:300px;                z-index:99999999;            }            #account_stats > p {                width: 25%;float: left;text-align: center;font-size:20px;            }            .center {text-align:center;}            #opt_container code {padding:2px 4px;font-size:90%;color:#c7254e;background-color:#f9f2f4;white-space:nowrap;border-radius:4px;}            #opt_container .container {width:100% !important;}            #opt_container b {font-weight:bold !important;}            #opt_container label {display:inline-block;margin: 5px;padding: 5px;border-radius: 3px;color: black;}            #opt_container .btn {padding:10px;border-radius:2px;-webkit-border-radius:2px;cursor:pointer;border:1px solid transparent;}            #opt_container .btn-info,#opt_container .label-info {background:#428bca;border-color:#357ebd;}            #opt_container .btn-info:hover,#opt_container .label-info:hover {background:#3276b1;border-color:#285e8e;}            #opt_container .btn-success,#opt_container .label-success {background:#5cb85c;border-color:#4cae4c;}            #opt_container .btn-success:hover,#opt_container .label-success:hover {background:#47a447;border-color:#398439;}            #opt_container .btn-warning, #opt_container .label-warning{background:#f0ad4e;border-color:#eea236}            #opt_container .btn-warning:hover, #opt_container .label-warning:hover{background:#ed9c28;border-color:#d58512;}            #opt_container .btn-danger, #opt_container .label-danger{background:#d9534f;border-color#d43f3a;}            #opt_container .btn-danger:hover, #opt_container .label-danger:hover{background:#d2322d;border-color#ac2925;}            #opt_container .btn-primary, #opt_container .label-primary{background:#428bca;color:black !important;border-color:#357ebd;}            #opt_container .btn-primary:hover, #opt_container .label-primary:hover{background:#3276b1;border-color#285e8e;}   #opt_container pre {width:95%;overflow:hidden;word-wrap:break-word;}         #opt_container .row {width:100%;display:inline-block;margin:0;padding:5px;}            #opt_container .well {background-color:#f5f5f5;padding:10px;border:1px solid #e3e3e3;box-shadow:inset 0 1px 1px rgba(0,0,0,.05);-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);}  #opt_container .pull-right {float:right} #opt_container .pull-left {float:left;}          #opt_container .closeme {position: relative;top: -7px;right: -47%;cursor: pointer;font-size: 10px;background: #FFF;color:#35AFE3;border-radius: 8px;padding: 4px;}        </style>"),d("body").append(d("<div id='opt_container'/>")),d("#opt_backdrop").click(function(){d("#opt_backdrop,#opt_container").remove()}),!c)return d("#opt_container").append("<h1>Missing optimizely code.</h1>");var e=c.data||{},f=e.audiences||{},g=e.variations||{},h=e.experiments||{},j=e.segments||{},k=e.visitor||{};window.ooo={o:c,d:e,a:f,v:g,e:h,s:j,vi:k,init:function init(){this.launch(),d(window).resize(this.resize),this.resize()},resize:function resize(){var a=d(window).width(),b=d(window).height();d("#opt_container").css({height:b/1.25+"px",width:a/1.5+"px","margin-top":"-"+b/2.5+"px","margin-left":"-"+a/3+"px"})},get_experiment_id:function get_experiment_id(a){return a?this.e[a]?this.e[a]:alert("Experiment #"+a+" not found."):Object.keys(this.e)},get_experiment_name:function get_experiment_name(a){return!!this.is_experiment(a)&&this.e[a].name},launch:function launch(){var f=this;d("#opt_container").append("                    <div id='ooo_container' class='container'>                        <section id='ooo_container_visitors' class='container'>                            <div class='well'><br>                                <h1 class='header center'>This Site: <b>"+b.location.host+"</b></h1>                                <div id='account_stats' class='row' style=''>                                    <p class='col-xs-3'><u>Total Experiments</u><br><span>"+Object.keys(h).length+"</span></p>                                    <p class='col-xs-3'><u>Approx. Library Size</u><br><span>"+(JSON.stringify(c).length/1e3).toFixed()+" KB</span></p>                                    <p class='col-xs-3'><u>Total Variations</u><br><span>"+Object.keys(g).length+"</span></p>                                    <p class='col-xs-3'><u>Account Owner</u><br><span>"+function(){return c.getAccountId()}()+"</span></p>                                </div>                            </div><br>                            <div id='ooo_filters' class='row center'>                                <div class='btn-group' data-toggle='buttons'>                                    <span style='font-weight:bolder;font-size:16px;'>Experiment Status:&emsp;</span>                                    <button class='btn info btn-info' filter='all' >                                        ALL EXPERIMENTS                                    </button>                                    <button class='btn info btn-info' filter='live' >                                        LIVE EXPERIMENTS                                    </button>                                    <button class='btn info btn-info' filter='paused' >                                        PAUSED EXPERIMENTS                                    </button>                                </div><br>                                <div id='view_people' class='btn-group' data-toggle='button'>                                    <span style='font-weight:bolder;font-size:16px;'>Browse Visitor Criteria:&emsp;</span>                                    <button class='btn btn-warning' show='ooo_audiences' id='view_audiences' >AUDIENCES</button>                                    <button class='btn btn-warning' show='ooo_visitor_you' id='view_visitor_you'>YOUR SEGMENTS</button>                                    <button class='btn btn-warning' show='ooo_visitor_all' id='view_visitor_all'>ALL SEGMENTS</button>                                    <button class='btn btn-warning btn-lg' show='my_variants' id='show_my_variants'>MY EXPERIENCE</button>                                </div>                                <hr>                                <section id='ooo_container_visitor' class='container'>                                    <div class='row-fluid'>                                        <div style='display:none;' id='ooo_audiences' class='well blue col-xs-12'>                                            <a class='closeme'>CLOSE</a>                                            "+f.render_audiences()+"                                        </div>                                        <div style='display:none;' id='ooo_visitor_you' class='well blue col-xs-12'>                                            <a class='closeme'>CLOSE</a>                                            "+f.render_your_segments()+"                                        </div>                                        <div style='display:none;' id='ooo_visitor_all' class='well blue col-xs-12'>                                            <a class='closeme'>CLOSE</a>                                            "+f.render_all_segments()+"                                        </div>                                        <div id='my_variants' class='center well alert alert-info' style='display:none'>                                            <a class='closeme'>CLOSE</a>                                            "+this.render_my_variants()+"                                        </div>                                    </div>                                </section>                                                            </div>                            <div id='alert' class='center well alert alert-warning' style='display:none;'>                                <a class='closeme'>CLOSE</a>                            </div>                        </section>                        <section id='ooo_container_experiments' class='container'>                        </section>                    </div>                </body></html>");var e=function(){d.each(f.get_experiment_id().reverse(),function(a,b){d("body").find("#ooo_container_experiments").append(f.add_experiment(b))}),d(".closeme").click(function(){d(this).parent().hide(),d("#ooo_filters > div >  button, #ooo_filters > div > label").removeClass("active")}),d(".show_variations, .experiment_name").click(function(){var a=d(this),b=a.parents(".ooo_experiment");b.find(".variation_section").toggle(),b.find("button.show_variations").text(b.find(".variation_section").is(":visible")?"HIDE VARIATIONS":"VIEW VARIATIONS")}),d(".nav > li").click(function(){switch(d("#ooo_container > section").hide(),d(this).attr("id")){case"nav_experiments":d("#ooo_container_experiments").show();break;case"nav_variatuions":d("#ooo_container_variations").show();}}),d(".show_code").click(function(){var a=d(this);a.parent().find("pre").toggle(),a.text(a.parent().find("pre").is(":visible")?"Hide Campaign Script":"View Campaign Script")}),d("[filter]").click(function(){d("[experiment_id]").hide();var a=d(this).attr("filter");if(d("#ooo_container_visitor > div > div").hide(),"all"==a)return d("[experiment_id").show(),void d("#alert").html("").hide();var b="."+a+"_experiment";d(b).show(),d("#alert").css("display",d(b).length?"none":"block").html(d(b).length?"":"<h2> There are no "+("ooo"==a?"":a)+" experiments to show :(")}),d("#view_people button").click(function(){var a=d(this),b=a.attr("show"),c=d("#"+b),e=c.is(":visible");d("#ooo_container_visitor .well").hide(),c.css("display",e?"none":"block"),d("#ooo_filters > div >  button, #ooo_filters > div > label").removeClass("active")}),d("#show_my_variants").click(function(){var a=d(this),b=d(a.attr("show")),c=b.is(":visible");b.css("display",c?"none":"block"),d("#ooo_filters > div >  button, #ooo_filters > div > label").removeClass("active")})},i=1,j=setInterval(function(){return 5<i?(clearInterval(j),p.document.write("<h2> Failed to load. Please try clicing the bookmark again</h2>")):d?void(clearInterval(j),e()):i++},100)},add_experiment:function add_experiment(b){var e=this,g=e.e[b]||{},j=g.variation_ids||{},i=Object.keys(j).length||0,k=e.get_experiment_name(b),m=g.manual||!1,n=~d.inArray(b,e.d.state.activeExperiments),a=n?" live_experiment":" paused_experiment",f=g.section_ids.length,l=g.code||"",c=d("<div experiment_id='"+b+"' class='row "+a+"'/>");return c.append("<div  class='col-sm-12 well ooo_experiment' experiment_container_id='"+b+"'>                    <i class='icon-plus'></i> <h3><a class='experiment_name' >"+k+"</a></h3>                    &emsp;<code class='show_variations'>Experiment ID: "+b+"</code>                    &emsp;<code class='show_variations'>"+(f?"MVT ("+f+" Elements)":"A/B/n")+" |                     "+i+" Variations</code>                    &emsp;"+(n?"<label style='font-size:100%;' class='label label-success label-large show_variations'>LIVE</label>":"<label style='font-size:100%;' class='label label-grey'>Not Running</label>")+"                    &emsp;"+(i?"<button class='show_variations btn btn-danger'>VIEW VARIATIONS</button>":"")+"                    &emsp;"+(m?"<label class='label label-warning'>Manually Activated</label>":"")+"                    "+(l?"&emsp;<button class='show_code btn btn-small btn-info'>VIEW SCRIPTS</button><pre class='pre-scrollable script_display' style='display:none;'></pre>":"")+"                    <section style='display:none;' id='' class='variation_section container'></section>                </div>"),c.find("pre.script_display").text(l),c.find(".variation_section").append(e.render_experiment_page(b)),c},render_your_segments:function render_your_segments(){if(!k.segments)return"<h2 class='center'><label class='badge badge-danger'>You are not part of any segments!</label></h2>";var a=this,b=a.s,c=k.segments,e=0,f="<h2>Here are the segments you are part of: </h2><br><br>";return d.each(c,function(c,d){b[c]&&(f+="<label class='segment col-sm-5 label label-"+a.colors[e]+"'>"+b[c].name+" = "+d+"</label>",e=3==e?0:e+1)}),f},render_all_segments:function render_all_segments(){if(!this.s)return"<h2 class='center'><label class='badge badge-danger'>There are no segments created.</label></h2>";var a=this,b=a.s,c="<h2>Here are all segments being targeted towards on this site: </h2><hr>",e=0;return d.each(b,function(d){c+="<label class='segment col-sm-5 label label-"+a.colors[e]+"'>"+b[d].name+"</label>",e=3==e?0:e+1}),c},render_my_variants:function render_my_variants(){var a=this,b=a.o.variationNamesMap||{},c=0,e="<h2>Here are the tests and variations you are currently a part of!</h2>";return b&&Object.keys(b).length?(d.each(b,function(b,d){e+="<label class='segment col-sm-12 label label-"+a.colors[c]+"' style='width:90%;left:5%;'>&emsp;"+a.e[b].name+" - &emsp;<code>"+d+"</code></label>",c=3==c?0:c+1}),e):"<h2 class='center'><label class='badge badge-danger'>You are not in any experiments! Shame...</label></h2>"},render_audiences:function render_audiences(){if(!this.a)return"<h2 class='center'><label badge badge-danger'>There are no audiences created.</label></h2>";var a=this,b=this.a,c=0,e="<h2>Here are all audiences being observed in analytics on this site: </h2><hr>";return d.each(this.a,function(b,d){e+="<label class='segment col-sm-5 label label-"+a.colors[c]+"'>"+d.name+"</label>",c=3==c?0:c+1}),e},render_experiment_page:function render_experiment_page(b){var c=this,e=c.ooo_popup,f=c.e[b]||{},h=f.name,i=function(){var a={},b=-1;return d.each(f.variation_ids,function(d,e){return b++,c.v[e]?void(a[e]={id:e,code:g[e].code,name:g[e].name,index:b}):console.log("Variation "+e+" not found.")}),a}(),j=d("<div/>");return d.each(i,function(a,e){var f=d("<div class='row ooo_experiment_variation' variation_id='"+e.id+"'/>"),g=function(){var a=location.href;return a+=(a.split("?")[1]?"&":"?")+"optimizely_x"+b+"="+e.index,a}();f.append("<div class='col-sm-3'><h3>"+e.name+" "+(g?"<a href='"+g+"' class='pull-right btn btn-primary'>Preview Variation</a>":"")+"</h3>                    </div>                    <div class='col-sm-9'>                        <pre class='col-sm-12'>"+(e.code?c.htmlspecialchars(e.code):"Empty Variant Code")+"</pre>                    </div>"),j.append(f).append("<hr>")}),j},is_experiment:function is_experiment(a){return!!this.e[a]},is_variation:function is_variation(a){return!!this.v[a]},htmlspecialchars:function htmlspecialchars(a){return a.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},colors:["success","danger","warning","primary","info"],end:""},b.ooo.init()})(window,window.optimizely);